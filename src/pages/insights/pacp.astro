---
/*
 * pacp.astro
 *
 * Standalone insight page: The Post-Acute Care Plan (PACP).
 * Treats discharge delays as an input quality problem.
 */

import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import Section from '../../components/Section.astro';
import { getPageTitle, headerDefaults, footerDefaults } from '../../data/pageDefaults';
import { buildArticleSchema, buildBreadcrumbSchema, buildWebPageSchema } from '../../data/schema';
import { siteConfig } from '../../data/site';
import { getManualInsight } from '../../data/manualInsights';
import { toPacificIso } from '../../utils/dates';

const insight = getManualInsight('pacp');
const { title, description, author, tags } = insight;
const publishedDate = toPacificIso(insight.date);

const breadcrumb = buildBreadcrumbSchema([
  { name: 'Home', href: '/' },
  { name: 'Insights', href: '/insights' },
  { name: title, href: '/insights/pacp' },
]);

const articleUrl = `${siteConfig.siteUrl}/insights/pacp`;
const articleSchema = buildArticleSchema({
  title,
  description,
  datePublished: publishedDate,
  author,
  url: articleUrl,
  tags,
});

const webPage = buildWebPageSchema({
  name: title,
  description,
  url: articleUrl,
});

const articleMeta = {
  publishedTime: publishedDate,
  modifiedTime: publishedDate,
  author,
  tags,
};
---

<BaseLayout
  title={getPageTitle(title)}
  description={description}
  ogType="article"
  articleMeta={articleMeta}
  jsonLd={[articleSchema, breadcrumb, webPage]}
>
  <Header slot="header" {...headerDefaults} currentPath="/insights/pacp" />

  <Section>
    <article class="max-w-4xl mx-auto">
      <header class="mb-12 space-y-4">
        <a href="/insights" class="text-sm text-primary hover:text-primary/80">
          &larr; Back to Insights
        </a>
        <h1 class="text-4xl sm:text-5xl">{title}</h1>
        <p class="text-xl text-muted-foreground">A Proactive Approach to Discharge Readiness</p>
        <p class="text-lg italic text-muted-foreground">
          "Treating discharge delays as an input quality problem, not a process problem."
        </p>
      </header>

      <div class="prose prose-lg max-w-none">
        <!-- Executive Summary -->
        <div class="rounded-[var(--radius)] bg-accent/10 p-6 sm:p-8 mb-10 not-prose">
          <h2 class="text-2xl mb-4">Executive Summary</h2>
          <p class="text-base leading-relaxed mb-4">
            According to Advisory Board data, <strong class="text-primary"
              >25% of hospital days are avoidable</strong
            >. These aren't days consumed by clinical care&mdash;they're days lost to waiting:
            waiting for paperwork, waiting for insurance verification, waiting for family decisions
            that should have been made long ago.
          </p>
          <p class="text-base leading-relaxed">
            The core problem isn't that hospitals discharge poorly. It's that the information
            required for a smooth discharge&mdash;legal authority, financial eligibility, placement
            preferences, social support&mdash;is treated as something to be <em
              >discovered during a crisis</em
            > rather than <em>captured in advance</em>.
          </p>
        </div>

        <!-- Key Insight -->
        <h2>The Structural Barrier</h2>
        <p>
          Hospitals have spent decades trying to optimize their internal discharge processes.
          They've added case managers, created discharge checklists, implemented daily huddles, and
          invested in care coordination platforms. Yet discharge delays persist.
        </p>
        <p>
          The reason is structural: <strong
            >discharge depends on external constraints that hospitals cannot control operationally.</strong
          > Power of Attorney status isn't a hospital process. Medicaid eligibility isn't determined by
          the care team. Family dynamics and SNF preferences don't originate within hospital walls.
        </p>
        <p>
          This creates what clinicians experience as <strong>moral distress</strong>. Case managers
          are tasked with resolving problems that are, by design, structurally unsolvable within the
          hospital context. They burn out not from laziness or incompetence, but because the system
          asks them to produce outputs from inputs they don't have and cannot create.
        </p>

        <!-- The Solution -->
        <h2>The Input Analogy</h2>
        <p>
          Manufacturing understood this decades ago: <strong
            >if a factory wants to improve output quality, it improves input quality.</strong
          > You don't fix defects at the end of the line&mdash;you prevent them at the beginning.
        </p>
        <p>
          The Post-Acute Care Plan applies this principle to hospital discharge. Rather than asking
          case managers to assemble critical information under time pressure during an acute stay,
          the PACP captures this data <em>before admission</em>&mdash;during routine primary care
          encounters when patients and families can make considered decisions without the stress of
          a health crisis.
        </p>
        <p>
          The result: discharge transforms from <strong>"crisis management"</strong> into
          <strong>"coordinated execution."</strong> When a patient is admitted, the discharge plan is
          already substantially complete.
        </p>

        <!-- Data Model -->
        <h2>The PACP Data Model</h2>
        <p>
          The PACP organizes discharge-critical information into four domains, each capturing data
          that is routinely unavailable at the point of need:
        </p>
      </div>

      <!-- Data Model Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-10">
        <div class="rounded-[var(--radius)] border border-primary/20 p-6">
          <div
            class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-feature-red-bg text-feature-red text-xs uppercase tracking-wider mb-3"
          >
            Domain 1
          </div>
          <h3 class="text-lg font-semibold mb-3">Legal &amp; Decision Making</h3>
          <dl class="text-sm space-y-2 mb-4">
            <dt class="font-semibold text-foreground">Target Data Points</dt>
            <dd class="text-muted-foreground ml-4">
              Healthcare POA status, Agent contact info, Backup agent, Guardianship status, POLST
            </dd>
          </dl>
          <div class="rounded-[var(--radius-sm)] bg-muted p-3">
            <p class="text-sm italic">
              <strong>Why:</strong> To resolve authority constraints before they become legal delays.
            </p>
          </div>
        </div>

        <div class="rounded-[var(--radius)] border border-primary/20 p-6">
          <div
            class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-feature-blue-bg text-feature-blue text-xs uppercase tracking-wider mb-3"
          >
            Domain 2
          </div>
          <h3 class="text-lg font-semibold mb-3">Insurance &amp; Financial</h3>
          <dl class="text-sm space-y-2 mb-4">
            <dt class="font-semibold text-foreground">Target Data Points</dt>
            <dd class="text-muted-foreground ml-4">
              Current verification, MA plan specific coverage, Medicaid eligibility likelihood,
              Long-term care insurance
            </dd>
          </dl>
          <div class="rounded-[var(--radius-sm)] bg-muted p-3">
            <p class="text-sm italic">
              <strong>Why:</strong> To prevent "retroactive denial" surprises.
            </p>
          </div>
        </div>

        <div class="rounded-[var(--radius)] border border-primary/20 p-6">
          <div
            class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-feature-amber-bg text-feature-amber text-xs uppercase tracking-wider mb-3"
          >
            Domain 3
          </div>
          <h3 class="text-lg font-semibold mb-3">Placement Preferences</h3>
          <dl class="text-sm space-y-2 mb-4">
            <dt class="font-semibold text-foreground">Target Data Points</dt>
            <dd class="text-muted-foreground ml-4">
              Ranked preferred SNFs (3&ndash;5), Geographic constraints (&ldquo;within 30 mins of
              daughter&rdquo;), Explicit exclusions (&ldquo;Not Facility X&rdquo;)
            </dd>
          </dl>
          <div class="rounded-[var(--radius-sm)] bg-muted p-3">
            <p class="text-sm italic">
              <strong>Why:</strong> To convert crisis decision-making into informed execution.
            </p>
          </div>
        </div>

        <div class="rounded-[var(--radius)] border border-primary/20 p-6">
          <div
            class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-feature-green-bg text-feature-green text-xs uppercase tracking-wider mb-3"
          >
            Domain 4
          </div>
          <h3 class="text-lg font-semibold mb-3">Social &amp; Practical</h3>
          <dl class="text-sm space-y-2 mb-4">
            <dt class="font-semibold text-foreground">Target Data Points</dt>
            <dd class="text-muted-foreground ml-4">
              Physical environment (stairs/ramps), Primary caregiver availability (24/7 vs.
              evenings), Pet care arrangements
            </dd>
          </dl>
          <div class="rounded-[var(--radius-sm)] bg-muted p-3">
            <p class="text-sm italic">
              <strong>Why:</strong> Practical barriers (like pets) delay discharge as often as medical
              ones.
            </p>
          </div>
        </div>
      </div>

      <div class="prose prose-lg max-w-none">
        <p>
          When these four domains are populated before an acute event, the hospital's role shifts
          from <em>information gathering</em> to <em>plan activation</em>&mdash;a fundamentally
          different and far more efficient operation.
        </p>
      </div>

      <!-- CTA -->
      <div
        class="mt-12 rounded-[var(--radius)] bg-gradient-to-b from-[var(--cta-gradient-from)] to-[var(--cta-gradient-to)] p-8 sm:p-10 text-center"
      >
        <h2 class="text-2xl mb-3">Ready to Explore the PACP?</h2>
        <p class="text-muted-foreground mb-6 max-w-xl mx-auto">
          Learn how pre-admission data capture can transform your discharge outcomes.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href="/contact"
            class="inline-flex items-center justify-center px-6 py-3 rounded-[var(--radius-button)] bg-primary hover:bg-primary/90 text-primary-foreground font-medium transition-colors"
          >
            Discuss a Pilot Implementation
          </a>
          <a
            href="/contact"
            class="inline-flex items-center justify-center px-6 py-3 rounded-[var(--radius-button)] border-2 border-foreground bg-background hover:bg-muted text-foreground font-medium transition-colors"
          >
            Request the Concept Paper
          </a>
        </div>
      </div>
    </article>
  </Section>

  <Footer slot="footer" {...footerDefaults} />
</BaseLayout>
