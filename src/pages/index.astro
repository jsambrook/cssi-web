---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import Hero from "../components/Hero.astro";
import Section from "../components/Section.astro";
import FeatureCard from "../components/FeatureCard.astro";
import CTASection from "../components/CTASection.astro";
import { getPageTitle, headerDefaults, footerDefaults } from "../data/pageDefaults";
import { hero, featuresSection, features, cta } from "../data/pages/home";
import { intakeFormConfig } from "../data/intakeForm";
---

<BaseLayout title={getPageTitle()}>
  <Header slot="header" {...headerDefaults} currentPath={Astro.url.pathname} />

  <Hero
    headline={hero.headline}
    subheadline={hero.subheadline}
    bullets={hero.bullets}
    primaryCta={hero.primaryCta}
    secondaryCta={hero.secondaryCta}
    intakeForm={intakeFormConfig}
  />

  <Section
    background="muted"
    label={featuresSection.label}
    heading={featuresSection.heading}
    subheading={featuresSection.subheading}
  >
    <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto">
      {features.map((f) => (
        <FeatureCard title={f.title} description={f.description} />
      ))}
    </div>
  </Section>

  <CTASection
    headline={cta.headline}
    description={cta.description}
    primaryCta={cta.primaryCta}
    secondaryCta={cta.secondaryCta}
    footnote={cta.footnote}
  />

  <Footer slot="footer" {...footerDefaults} />
</BaseLayout>
